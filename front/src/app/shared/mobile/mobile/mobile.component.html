<div class="container">
  <!-- Filtres à gauche -->
  <form [formGroup]="filterForm" class="filter-card">
    <h3 class="filter-title">Filtres</h3>

    <div class="filter-group">
      <label>Recherche</label>
      <input type="text" formControlName="prefix" />
    </div>

    <div class="filter-group">
      <label>Prix</label>
      <div class="price-slider">
        <input
          type="range"
          min="0"
          [max]="maxLimit"
          [value]="filterForm.value.minPrice"
          (input)="onMinPriceChange($event)"
          class="thumb thumb-left"
        />
        <input
          type="range"
          min="0"
          [max]="maxLimit"
          [value]="filterForm.value.maxPrice"
          (input)="onMaxPriceChange($event)"
          class="thumb thumb-right"
        />

        <div class="slider-track"></div>
        <div class="slider-range" [ngStyle]="getSliderRangeStyle()"></div>

        <div class="price-bubbles">
          <span class="bubble-left" [ngStyle]="{ left: getMinBubblePosition() }">
            {{ filterForm.value.minPrice }} DT
          </span>
          <span class="bubble-right" [ngStyle]="{ left: getMaxBubblePosition() }">
            {{ filterForm.value.maxPrice }} DT
          </span>
        </div>
      </div>
    </div>

    <div class="filter-group">
      <label>Trier par</label>
      <select formControlName="orderBy">
        <option value="price_asc">Prix croissant</option>
        <option value="price_desc">Prix décroissant</option>
        <option value="name_asc">Nom A-Z</option>
        <option value="name_desc">Nom Z-A</option>
        <option value="in_stock">En stock</option>
      </select>
    </div>
  </form>

  <!-- Produits à droite -->
  <section class="product-list">
    <app-product-card
      *ngFor="let product of products"
      [product]="product"
    ></app-product-card>
  </section>
</div>
